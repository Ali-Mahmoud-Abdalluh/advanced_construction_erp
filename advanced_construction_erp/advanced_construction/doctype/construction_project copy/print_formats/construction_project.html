{% extends "templates/print_base.html" %}

{% block title %}Construction Project{% endblock %}

{% block content %}
<div class="print-format">
    <div class="print-heading">
        <h1>Construction Project</h1>
        <div class="project-details">
            <div class="row">
                <div class="col-6">
                    <p><strong>Project:</strong> {{ doc.project }}</p>
                    <p><strong>Construction Type:</strong> {{ doc.construction_type }}</p>
                    <p><strong>Status:</strong> {{ doc.status }}</p>
                    <p><strong>Progress:</strong> {{ doc.progress }}%</p>
                </div>
                <div class="col-6">
                    <p><strong>Start Date:</strong> {{ doc.expected_start_date }}</p>
                    <p><strong>End Date:</strong> {{ doc.expected_end_date }}</p>
                    <p><strong>Total Budget:</strong> {{ doc.total_budget }}</p>
                    <p><strong>Actual Cost:</strong> {{ doc.actual_cost }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="project-team">
        <h2>Project Team</h2>
        <div class="row">
            <div class="col-6">
                <p><strong>Project Manager:</strong> {{ doc.project_manager }}</p>
                <p><strong>Site Engineer:</strong> {{ doc.site_engineer }}</p>
            </div>
            <div class="col-6">
                <p><strong>Safety Officer:</strong> {{ doc.safety_officer }}</p>
                <p><strong>Quality Controller:</strong> {{ doc.quality_controller }}</p>
            </div>
        </div>
    </div>

    <div class="project-tasks">
        <h2>Project Tasks</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Task Name</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Status</th>
                    <th>Progress</th>
                    <th>Assigned To</th>
                </tr>
            </thead>
            <tbody>
                {% for task in doc.project_tasks %}
                <tr>
                    <td>{{ task.task_name }}</td>
                    <td>{{ task.start_date }}</td>
                    <td>{{ task.end_date }}</td>
                    <td>{{ task.status }}</td>
                    <td>{{ task.progress }}%</td>
                    <td>{{ task.assigned_to }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="project-budget">
        <h2>Project Budget</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Item Code</th>
                    <th>Item Name</th>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Unit</th>
                    <th>Rate</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                {% for item in doc.budget_items %}
                <tr>
                    <td>{{ item.item_code }}</td>
                    <td>{{ item.item_name }}</td>
                    <td>{{ item.description }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.unit }}</td>
                    <td>{{ item.rate }}</td>
                    <td>{{ item.amount }}</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="6" class="text-right"><strong>Total Budget:</strong></td>
                    <td><strong>{{ doc.total_budget }}</strong></td>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="project-attachments">
        <h2>Attachments</h2>
        {% if doc.attachments %}
        <p>Please refer to the attached documents for additional information.</p>
        {% else %}
        <p>No attachments available.</p>
        {% endif %}
    </div>

    <div class="print-footer">
        <p>Generated on: {{ frappe.utils.get_datetime().strftime('%Y-%m-%d %H:%M:%S') }}</p>
        <p>Page 1 of 1</p>
    </div>
</div>

<style>
    .print-format {
        padding: 20px;
    }

    .print-heading {
        margin-bottom: 30px;
    }

    .print-heading h1 {
        font-size: 24px;
        margin-bottom: 20px;
    }

    .project-details {
        margin-bottom: 20px;
    }

    .project-team,
    .project-tasks,
    .project-budget,
    .project-attachments {
        margin-bottom: 30px;
    }

    h2 {
        font-size: 18px;
        margin-bottom: 15px;
    }

    .table {
        width: 100%;
        margin-bottom: 20px;
    }

    .table th {
        background-color: #f5f5f5;
    }

    .table th,
    .table td {
        padding: 8px;
        border: 1px solid #ddd;
    }

    .text-right {
        text-align: right;
    }

    .print-footer {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #ddd;
        font-size: 12px;
        color: #666;
    }
</style>
{% endblock %} 